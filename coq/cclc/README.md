# Concurrent Calculus of Linear Constructions

## Sort relations

Order
```text
≤  U  L
U  T  T
L  F  T
```

Addition
```text
⋅  U  L
U  U  L
L  L  L
```

## Core typing rules

```text
Γ ▹ U
----------------
Γ ⊢ s@i : U@i+1


Γ ▹ U    Γ ⊢ A : s@i    [Γ, x :s A] ⊢ B : r@i
----------------------------------------------
Γ ⊢ Πt (x :s A).B : t@i


Γ ▹ U
-----------------
Γ, x :s A ⊢ x : A


Γ ▹ t     [Γ] ⊢ Πt (x :s A).B : t@i     Γ, x :s A ⊢ n : B
----------------------------------------------------------
Γ ⊢ λt (x :s A).n : Πt (x :s A).B


Γ2 ▹ s    Γ1 ⊢ m : Πt (x :s A).B     Γ2 ⊢ n : A
------------------------------------------------
Γ1 ∘ Γ2 ⊢ m n : B[n/x]


Γ ⊢ m : A     [Γ] ⊢ B : s@i     A ⪯ B
--------------------------------------
Γ ⊢ m : B
```

## Data typing rules

```
Γ ▹ U     Γ ⊢ A : s@i     [Γ, x :s A] ⊢ B : r@i     s ⋅ r ≤ t
--------------------------------------------------------------
Γ ⊢ Σt (x :s A :r B) : t@i


Γ1 ▹ s     Γ2 ▹ r
[Γ1 ∘ Γ2] ⊢ Σt (x :s A :r B) : t@i      Γ1 ⊢ m : A      Γ2 ⊢ n : B[m/x]
------------------------------------------------------------------------
Γ1 ∘ Γ2 ⊢ ⟨m, n⟩t : Σt (x :s A :r B)


Γ1 ⊢ m : Σt (x :s A :r B)     Γ1 ▹ k     t ≤ k
[Γ2, z :k Σt (x :s A :r B)] ⊢ C : q@i
Γ2, x :s A, y :r B ⊢ n : C[⟨x, y⟩/z]
----------------------------------------------------------
Γ1 ∘ Γ2 ⊢ let ⟨x, y⟩ = m in n : C[m/z]
```

## Runtime semantics

```text
l ∉ Θ
-----------------------------------------------------
Θ ;; λt (x :s A).m => Θ ∪ { l ↦ λt (x :s A).m } ;; l


Θ ;; m => Θ1 ;; lm      Θ1 ;; n => Θ2 ;; ln  
Θ2(lm) = λt (x :s A).u      Θ2(ln) = v
Θ2 -t lm ;; u[v/x] => Θ3 ;; l
-------------------------------------------------
Θ ;; m n => Θ3 ;; l
```
